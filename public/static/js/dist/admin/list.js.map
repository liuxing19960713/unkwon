{"version":3,"sources":["admin/list.js"],"names":["define","$","on","$delBtn","this","BootstrapDialog","show","type","TYPE_WARNING","message","data","buttons","label","action","dialog","close","loader","submit_data","admin_id","ajax","url","appConfig","adminPath","dataType","success","TYPE_SUCCESS","dialogItself","location","reload","onhide","errmsg","pagination","dataCount","val"],"mappings":"AAAAA,OAAO,WACH,MAAO,YAGHC,EAAE,WAAWC,GAAG,QAAS,WACrB,GAAIC,GAAUF,EAAEG,KAChBC,iBAAgBC,MACZC,KAAMF,gBAAgBG,aACtBC,QAAS,UAAYR,EAAEG,MAAMM,KAAK,WAAa,QAC/CC,UACIC,MAAO,KACPC,OAAQ,SAASC,GACbA,EAAOC,QACPd,EAAEe,QAAO,EACT,IAAIC,IACAC,SAAYf,EAAQO,KAAK,MAG7BT,GAAEkB,MACEC,IAAKC,UAAUC,UAAY,gBAC3BZ,KAAMO,EACNM,SAAU,OACVC,QAAS,SAAUd,GACfT,EAAEe,QAAO,GACNN,EAAKc,QACJnB,gBAAgBC,MACZC,KAAMF,gBAAgBoB,aACtBhB,QAAS,OACTE,UACIC,MAAO,KACPC,OAAQ,SAASa,GACbzB,EAAEe,QAAO,GACTW,SAASC,YAGjBC,OAAQ,WACJ5B,EAAEe,QAAO,GACTW,SAASC,YAIjBvB,gBAAgBC,MACZG,QAASC,EAAKoB,OACdnB,UACIC,MAAO,KACPC,OAAQ,SAASa,GACbA,EAAaX,mBASzCH,MAAO,KACPC,OAAQ,SAASC,GACbA,EAAOC,eAOvBd,EAAE,UAAU8B,YAAYC,UAAc/B,EAAE,gCAAgCgC","file":"list.js","sourcesContent":["define(function (){\n    return function (){\n\n        // 删除按钮事件\n        $(\".js-del\").on('click', function(){\n            var $delBtn = $(this);\n            BootstrapDialog.show({\n                type: BootstrapDialog.TYPE_WARNING,\n                message: '是否删除账户为' + $(this).data('account') + '的管理员？',\n                buttons: [{\n                    label: '删除',\n                    action: function(dialog) {\n                        dialog.close();\n                        $.loader(true);\n                        var submit_data = {\n                            'admin_id': $delBtn.data('id')\n                        };\n\n                        $.ajax({\n                            url: appConfig.adminPath + 'Admin/destroy',\n                            data: submit_data,\n                            dataType: 'json',\n                            success: function (data) {\n                                $.loader(false);\n                                if(data.success){\n                                    BootstrapDialog.show({\n                                        type: BootstrapDialog.TYPE_SUCCESS,\n                                        message: '删除成功',\n                                        buttons: [{\n                                            label: '关闭',\n                                            action: function(dialogItself){\n                                                $.loader(true);\n                                                location.reload();\n                                            }\n                                        }],\n                                        onhide: function () {\n                                            $.loader(true);\n                                            location.reload();\n                                        }\n                                    });\n                                }else{\n                                    BootstrapDialog.show({\n                                        message: data.errmsg,\n                                        buttons: [{\n                                            label: '关闭',\n                                            action: function(dialogItself){\n                                                dialogItself.close();\n                                            }\n                                        }]\n                                    });\n                                }\n                            }\n                        });\n                    }\n                }, {\n                    label: '取消',\n                    action: function(dialog) {\n                        dialog.close();\n                    }\n                }]\n            });\n        });\n\n        // 加载分页\n        $(\"#pager\").pagination({'dataCount' : $(\"input[name=admin_list_count]\").val()});\n\n        return;\n    };\n});"]}