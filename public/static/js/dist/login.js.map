{"version":3,"sources":["login.js"],"names":["define","formSubmit","submit_data","account","$","val","password","url","appConfig","adminPath","loader","ajax","type","data","dataType","success","location","href","BootstrapDialog","show","TYPE_DANGER","title","message","buttons","label","action","dialogItself","close","focus","validate","submitHandler","form","ignore","rules","required","errorPlacement","error","element","addClass","after","errorElement","messages"],"mappings":"AAAAA,OAAO,WACH,MAAO,YAkCH,QAASC,KACL,GAAIC,IACAC,QAAWC,EAAE,uBAAuBC,MACpCC,SAAYF,EAAE,wBAAwBC,OAGtCE,EAAMC,UAAUC,UAAY,cAEhCL,GAAEM,QAAO,GAETN,EAAEO,MACEJ,IAAKA,EACLK,KAAM,OACNC,KAAMX,EACNY,SAAU,OACVC,QAAS,SAAUF,GACfT,EAAEM,QAAO,GACNG,EAAKE,QACJC,SAASC,KAAOT,UAAUC,UAAY,cAEtCS,gBAAgBC,MACZP,KAAMM,gBAAgBE,YACtBC,MAAO,OACPC,QAAST,EAAKS,QACdC,UACIC,MAAO,KACPC,OAAQ,SAASC,GACbA,EAAaC,QACbvB,EAAE,uBAAuBwB,gBA1DrDxB,EAAE,SAASyB,UACPC,cAAe,SAASC,GACpB9B,KAEJ+B,OAAQ,GACRC,OACI9B,SACI+B,UAAU,GAEd5B,UACI4B,UAAU,IAGlBC,eAAgB,SAASC,EAAOC,GAC5BjC,EAAEgC,GAAOE,SAAS,sBAClBlC,EAAGiC,GACEE,MAAOH,IAEhBI,aAAc,MACdC,UACItC,SACI+B,SAAU,YAEd5B,UACI4B,SAAU","file":"login.js","sourcesContent":["define(function (){\n    return function (){\n\n\n        // 验证表单\n        $(\"#form\").validate({\n            submitHandler: function(form){\n                formSubmit();\n            },\n            ignore: \"\",\n            rules: {\n                'account': {\n                    required: true\n                },\n                'password': {\n                    required: true,\n                }\n            },\n            errorPlacement: function(error, element) {\n                $(error).addClass('alert alert-danger');\n                $( element )\n                    .after( error );\n            },\n            errorElement: \"div\",\n            messages: {\n                'account': {\n                    required: \"登录帐号不能为空\",\n                },\n                'password': {\n                    required: \"密码不能为空\",\n                }\n            }\n\n        });\n\n        function formSubmit(){\n            var submit_data = {\n                'account': $(\"input[name=account]\").val(),\n                'password': $(\"input[name=password]\").val(),\n            };\n\n            var url = appConfig.adminPath + 'Login/submit';\n\n            $.loader(true);\n\n            $.ajax({\n                url: url,\n                type: \"POST\",\n                data: submit_data,\n                dataType: 'json',\n                success: function (data) {\n                    $.loader(false);\n                    if(data.success){\n                        location.href = appConfig.adminPath + 'Index/index';\n                    }else{\n                        BootstrapDialog.show({\n                            type: BootstrapDialog.TYPE_DANGER,\n                            title: '登录失败',\n                            message: data.message,\n                            buttons: [{\n                                label: '关闭',\n                                action: function(dialogItself){\n                                    dialogItself.close();\n                                    $(\"input[name=account]\").focus();\n                                }\n                            }]\n                        });\n\n                    }\n                }\n            });\n        }\n    };\n});"]}